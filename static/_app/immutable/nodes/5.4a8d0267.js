import{s as ee,c as U,h as G,o as le}from"../chunks/scheduler.8c6941b7.js";import{S as te,i as se,g as q,s as D,h as b,j as y,x as z,c as I,f as g,k as f,l as J,a as N,y as o,A as ae,m as $,n as M,o as O,d as A,t as W,b as oe,r as ie,u as re,v as ne,w as ce,p as de}from"../chunks/index.58967d4d.js";import{d as K,m as Q}from"../chunks/data.4fb0b847.js";import{e as ue}from"../chunks/each.e59479a4.js";function ve(c,e,s){const t=c.slice();return t[3]=e[s],t[5]=s,t}function fe(c){let e,s,t,i=c[5]+1+"",n,l,a,w='<div class="episode svelte-11qoaou">Pilot</div> <div class="episode svelte-11qoaou">Pilot</div> <div class="episode svelte-11qoaou">Pilot</div> <div class="episode svelte-11qoaou">Pilot</div> <div class="episode svelte-11qoaou">Pilot</div> <div class="episode svelte-11qoaou">Pilot</div> <div class="episode svelte-11qoaou">Pilot</div> <div class="episode svelte-11qoaou">Pilot</div>',V;return{c(){e=q("div"),s=q("div"),t=$("Season "),n=$(i),l=D(),a=q("div"),a.innerHTML=w,V=D(),this.h()},l(h){e=b(h,"DIV",{class:!0});var r=y(e);s=b(r,"DIV",{class:!0});var d=y(s);t=M(d,"Season "),n=M(d,i),d.forEach(g),l=I(r),a=b(r,"DIV",{class:!0,"data-svelte-h":!0}),z(a)!=="svelte-oyh8kn"&&(a.innerHTML=w),V=I(r),r.forEach(g),this.h()},h(){f(s,"class","season-label svelte-11qoaou"),f(a,"class","episode-list"),f(e,"class","season svelte-11qoaou")},m(h,r){N(h,e,r),o(e,s),o(s,t),o(s,n),o(e,l),o(e,a),o(e,V)},p:U,d(h){h&&g(e)}}}function _e(c){let e,s,t,i,n="Current Episode",l,a,w="S1 E1, Pilot",V,h,r,d,P='<div class="label svelte-11qoaou">Next Episode</div> <div class="value svelte-11qoaou">S1 E2, Diversity Day</div>',H,T,C=ue({length:c[1].length}),S=[];for(let v=0;v<C.length;v+=1)S[v]=fe(ve(c,C,v));return{c(){e=q("div"),s=q("div"),t=q("div"),i=q("div"),i.textContent=n,l=D(),a=q("div"),a.textContent=w,V=D(),h=q("div"),r=D(),d=q("div"),d.innerHTML=P,H=D(),T=q("div");for(let v=0;v<S.length;v+=1)S[v].c();this.h()},l(v){e=b(v,"DIV",{class:!0});var E=y(e);s=b(E,"DIV",{class:!0});var u=y(s);t=b(u,"DIV",{class:!0});var p=y(t);i=b(p,"DIV",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-9ztmv9"&&(i.textContent=n),l=I(p),a=b(p,"DIV",{class:!0,"data-svelte-h":!0}),z(a)!=="svelte-au1g2q"&&(a.textContent=w),V=I(p),h=b(p,"DIV",{class:!0,style:!0}),y(h).forEach(g),p.forEach(g),r=I(u),d=b(u,"DIV",{class:!0,"data-svelte-h":!0}),z(d)!=="svelte-18y05h"&&(d.innerHTML=P),u.forEach(g),E.forEach(g),H=I(v),T=b(v,"DIV",{class:!0});var _=y(T);for(let m=0;m<S.length;m+=1)S[m].l(_);_.forEach(g),this.h()},h(){f(i,"class","label svelte-11qoaou"),f(a,"class","value svelte-11qoaou"),f(h,"class","progress svelte-11qoaou"),J(h,"width",c[0].progress*100+"%"),f(t,"class","watch-progress-item svelte-11qoaou"),f(d,"class","watch-progress-item svelte-11qoaou"),f(s,"class","currently-watching-details svelte-11qoaou"),f(e,"class","wrapper"),f(T,"class","series-scroll horizontal-scroll svelte-11qoaou")},m(v,E){N(v,e,E),o(e,s),o(s,t),o(t,i),o(t,l),o(t,a),o(t,V),o(t,h),o(s,r),o(s,d),N(v,H,E),N(v,T,E);for(let u=0;u<S.length;u+=1)S[u]&&S[u].m(T,null)},p(v,[E]){E&1&&J(h,"width",v[0].progress*100+"%")},i:U,o:U,d(v){v&&(g(e),g(H),g(T)),ae(S,v)}}}function he(c,e,s){let{media_data:t,watch_progress:i}=e,n=t.seasons;return c.$$set=l=>{"media_data"in l&&s(2,t=l.media_data),"watch_progress"in l&&s(0,i=l.watch_progress)},[i,n,t]}class pe extends te{constructor(e){super(),se(this,e,he,_e,ee,{media_data:2,watch_progress:0})}}function R(c){let e,s,t=c[3].season+"",i,n,l=c[3].episode+"",a,w,V=c[2].episode_title+"",h;return{c(){e=q("div"),s=$("S"),i=$(t),n=$(" E"),a=$(l),w=$(", "),h=$(V),this.h()},l(r){e=b(r,"DIV",{class:!0});var d=y(e);s=M(d,"S"),i=M(d,t),n=M(d," E"),a=M(d,l),w=M(d,", "),h=M(d,V),d.forEach(g),this.h()},h(){f(e,"class","media-caption svelte-swgq9t")},m(r,d){N(r,e,d),o(e,s),o(e,i),o(e,n),o(e,a),o(e,w),o(e,h)},p(r,d){d&8&&t!==(t=r[3].season+"")&&O(i,t),d&8&&l!==(l=r[3].episode+"")&&O(a,l),d&4&&V!==(V=r[2].episode_title+"")&&O(h,V)},d(r){r&&g(e)}}}function X(c){let e,s="Next Episode";return{c(){e=q("button"),e.textContent=s,this.h()},l(t){e=b(t,"BUTTON",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-13fohc1"&&(e.textContent=s),this.h()},h(){f(e,"class","button svelte-swgq9t")},m(t,i){N(t,e,i)},d(t){t&&g(e)}}}function Y(c){let e,s;return e=new pe({props:{media_data:c[2],watch_progress:c[3]}}),{c(){ie(e.$$.fragment)},l(t){re(e.$$.fragment,t)},m(t,i){ne(e,t,i),s=!0},p(t,i){const n={};i&4&&(n.media_data=t[2]),i&8&&(n.watch_progress=t[3]),e.$set(n)},i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){W(e.$$.fragment,t),s=!1},d(t){ce(e,t)}}}function me(c){let e,s,t,i,n,l,a,w,V,h,r,d,P,H="Mark as Watched",T,C,S,v,E,u=c[2].type=="TV Show"&&R(c),p=c[2].type=="TV Show"&&X(),_=c[2].type=="TV Show"&&Y(c);return{c(){e=q("div"),s=q("div"),t=q("video"),n=D(),l=q("div"),a=q("div"),w=$(c[0]),V=D(),u&&u.c(),h=D(),r=q("div"),p&&p.c(),d=D(),P=q("button"),P.textContent=H,T=D(),C=q("a"),S=$("View Source"),v=D(),_&&_.c(),this.h()},l(m){e=b(m,"DIV",{class:!0});var k=y(e);s=b(k,"DIV",{class:!0});var L=y(s);t=b(L,"VIDEO",{src:!0,class:!0}),y(t).forEach(g),n=I(L),l=b(L,"DIV",{class:!0});var B=y(l);a=b(B,"DIV",{class:!0});var x=y(a);w=M(x,c[0]),x.forEach(g),V=I(B),u&&u.l(B),B.forEach(g),h=I(L),r=b(L,"DIV",{class:!0});var j=y(r);p&&p.l(j),d=I(j),P=b(j,"BUTTON",{class:!0,"data-svelte-h":!0}),z(P)!=="svelte-1dam8k4"&&(P.textContent=H),T=I(j),C=b(j,"A",{class:!0,href:!0});var F=y(C);S=M(F,"View Source"),F.forEach(g),j.forEach(g),v=I(L),_&&_.l(L),L.forEach(g),k.forEach(g),this.h()},h(){t.autoplay=!0,t.controls=!0,G(t.src,i=c[1])||f(t,"src",i),f(t,"class","svelte-swgq9t"),f(a,"class","media-title svelte-swgq9t"),f(l,"class","info"),f(P,"class","button svelte-swgq9t"),f(C,"class","button svelte-swgq9t"),f(C,"href",c[1]),f(r,"class","button-belt horizontal-scroll"),f(s,"class","viewer svelte-swgq9t"),f(e,"class","page")},m(m,k){N(m,e,k),o(e,s),o(s,t),o(s,n),o(s,l),o(l,a),o(a,w),o(l,V),u&&u.m(l,null),o(s,h),o(s,r),p&&p.m(r,null),o(r,d),o(r,P),o(r,T),o(r,C),o(C,S),o(s,v),_&&_.m(s,null),E=!0},p(m,[k]){(!E||k&2&&!G(t.src,i=m[1]))&&f(t,"src",i),(!E||k&1)&&O(w,m[0]),m[2].type=="TV Show"?u?u.p(m,k):(u=R(m),u.c(),u.m(l,null)):u&&(u.d(1),u=null),m[2].type=="TV Show"?p||(p=X(),p.c(),p.m(r,d)):p&&(p.d(1),p=null),(!E||k&2)&&f(C,"href",m[1]),m[2].type=="TV Show"?_?(_.p(m,k),k&4&&A(_,1)):(_=Y(m),_.c(),A(_,1),_.m(s,null)):_&&(de(),W(_,1,1,()=>{_=null}),oe())},i(m){E||(A(_),E=!0)},o(m){W(_),E=!1},d(m){m&&g(e),u&&u.d(),p&&p.d(),_&&_.d()}}}let Z="http://209.163.185.11/videos";function ge(c,e,s){let t,i,n,l;return K.subscribe(a=>{if(s(0,t=a.currently_watching),s(2,n=Q.filter(w=>w.title==t)[0]),s(3,l=a.library.filter(w=>w.title==n.title)[0]),l==null){let w={title:n.title,progress:0};n.type=="TV Show"&&(w={title:n.title,progress:0,season:1,episode:1}),K.update(V=>(V.library.push(w),V))}}),n.type=="TV Show"?(n.episode_title=Q.filter(a=>a.title==n.title)[0].seasons[l.season-1][l.episode-1],i=`${Z}/${t}/Season ${l.season}/${n.episode_title}.mp4`):i=`${Z}/${t}.mp4`,le(()=>{let a=document.querySelector("video");a.addEventListener("timeupdate",()=>{s(3,l.progress=a.currentTime/a.duration,l)})}),[t,i,n,l]}class Ee extends te{constructor(e){super(),se(this,e,ge,me,ee,{})}}export{Ee as component};
