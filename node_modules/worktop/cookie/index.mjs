var e=new Set(["domain","path","max-age","expires","samesite","secure","httponly"]);function t(t){let a,n,i,s,r={},o=0,m=t.split(/;\s*/g);for(;o<m.length;o++)if(n=m[o],a=n.indexOf("="),~a){if(i=n.substring(0,a++).trim(),s=n.substring(a).trim(),'"'===s[0]&&(s=s.substring(1,s.length-1)),~s.indexOf("%"))try{s=decodeURIComponent(s)}catch(e){}e.has(n=i.toLowerCase())?"expires"===n?r.expires=new Date(s):"max-age"===n?r.maxage=+s:r[n]=s:r[i]=s}else(i=n.trim().toLowerCase())&&("httponly"!==i&&"secure"!==i||(r[i]=!0));return r}function a(e,t,a={}){let n=e+"="+encodeURIComponent(t);return a.expires&&(n+="; Expires="+new Date(a.expires).toUTCString()),null!=a.maxage&&a.maxage>=0&&(n+="; Max-Age="+(0|a.maxage)),a.domain&&(n+="; Domain="+a.domain),a.path&&(n+="; Path="+a.path),a.samesite&&(n+="; SameSite="+a.samesite),(a.secure||"None"===a.samesite)&&(n+="; Secure"),a.httponly&&(n+="; HttpOnly"),n}export{t as parse,a as stringify};