import{s as G,h as P,n as F}from"../chunks/scheduler.e80ae01c.js";import{S,i as z,g as v,s as M,m as H,h as p,j as g,f as m,c as q,n as J,k as f,a as V,x as _,A as Z,o as K,l as L,d as y,p as x,b as ee,t as E,z as te,r as U,u as W,v as X,w as Y}from"../chunks/index.b2ac34d8.js";import{e as N}from"../chunks/each.e59479a4.js";import{d as D}from"../chunks/data.eb78c716.js";import{m as se}from"../chunks/index.9da56747.js";function O(n){let t,i;return{c(){t=v("div"),i=v("div"),this.h()},l(s){t=p(s,"DIV",{class:!0});var e=g(t);i=p(e,"DIV",{class:!0,style:!0}),g(i).forEach(m),e.forEach(m),this.h()},h(){f(i,"class","value svelte-1nevjl8"),L(i,"width",n[1]+"%"),f(t,"class","progress svelte-1nevjl8")},m(s,e){V(s,t,e),_(t,i)},p(s,e){e&2&&L(i,"width",s[1]+"%")},d(s){s&&m(t)}}}function ie(n){let t,i,s,e,o,l,r,a=n[0].title+"",h,b,$,I,k,w,A,c=n[1]&&O(n);return{c(){t=v("a"),i=v("div"),s=v("img"),o=M(),l=v("div"),r=v("div"),h=H(a),b=M(),$=v("div"),I=H(n[2]),k=M(),c&&c.c(),this.h()},l(d){t=p(d,"A",{href:!0,class:!0});var u=g(t);i=p(u,"DIV",{class:!0});var B=g(i);s=p(B,"IMG",{src:!0,alt:!0,loading:!0,class:!0}),B.forEach(m),o=q(u),l=p(u,"DIV",{class:!0});var j=g(l);r=p(j,"DIV",{class:!0});var T=g(r);h=J(T,a),T.forEach(m),b=q(j),$=p(j,"DIV",{class:!0});var C=g($);I=J(C,n[2]),C.forEach(m),j.forEach(m),k=q(u),c&&c.l(u),u.forEach(m),this.h()},h(){P(s.src,e="thumbnails/"+n[0].title+".jpeg")||f(s,"src",e),f(s,"alt","Thumbnail"),f(s,"loading","lazy"),f(s,"class","svelte-1nevjl8"),f(i,"class","image"),f(r,"class","title"),f($,"class","caption svelte-1nevjl8"),f(l,"class","info svelte-1nevjl8"),f(t,"href","/watch"),f(t,"class","media-item svelte-1nevjl8")},m(d,u){V(d,t,u),_(t,i),_(i,s),_(t,o),_(t,l),_(l,r),_(r,h),_(l,b),_(l,$),_($,I),_(t,k),c&&c.m(t,null),w||(A=Z(t,"click",n[3]),w=!0)},p(d,[u]){u&1&&!P(s.src,e="thumbnails/"+d[0].title+".jpeg")&&f(s,"src",e),u&1&&a!==(a=d[0].title+"")&&K(h,a),u&4&&K(I,d[2]),d[1]?c?c.p(d,u):(c=O(d),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i:F,o:F,d(d){d&&m(t),c&&c.d(),w=!1,A()}}}function le(n,t,i){let s,{item:e}=t,o;D.update(r=>{let h=r.library.find(b=>b.title==e.title);return h&&i(1,o=h.progress*100),r}),D.subscribe(r=>{r.library});function l(){D.update(r=>{r.currently_watching=e.title;let a={title:e.title,progress:0};return e.type=="TV Show"&&(a.season=1,a.episode=1),r.library.find(b=>b.title==e.title)||r.library.push(a),r})}return n.$$set=r=>{"item"in r&&i(0,e=r.item)},n.$$.update=()=>{n.$$.dirty&1&&i(2,s=se.find(r=>r.title==e.title).type)},[e,o,s,l]}class re extends S{constructor(t){super(),z(this,t,le,ie,G,{item:0})}}function Q(n,t,i){const s=n.slice();return s[1]=t[i],s}function R(n){let t,i;return t=new re({props:{item:n[1]}}),{c(){U(t.$$.fragment)},l(s){W(t.$$.fragment,s)},m(s,e){X(t,s,e),i=!0},p(s,e){const o={};e&1&&(o.item=s[1]),t.$set(o)},i(s){i||(y(t.$$.fragment,s),i=!0)},o(s){E(t.$$.fragment,s),i=!1},d(s){Y(t,s)}}}function ae(n){let t,i,s=N(n[0]),e=[];for(let l=0;l<s.length;l+=1)e[l]=R(Q(n,s,l));const o=l=>E(e[l],1,1,()=>{e[l]=null});return{c(){t=v("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=p(l,"DIV",{class:!0});var r=g(t);for(let a=0;a<e.length;a+=1)e[a].l(r);r.forEach(m),this.h()},h(){f(t,"class","grid svelte-lqg7i0")},m(l,r){V(l,t,r);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null);i=!0},p(l,[r]){if(r&1){s=N(l[0]);let a;for(a=0;a<s.length;a+=1){const h=Q(l,s,a);e[a]?(e[a].p(h,r),y(e[a],1)):(e[a]=R(h),e[a].c(),y(e[a],1),e[a].m(t,null))}for(x(),a=s.length;a<e.length;a+=1)o(a);ee()}},i(l){if(!i){for(let r=0;r<s.length;r+=1)y(e[r]);i=!0}},o(l){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)E(e[r]);i=!1},d(l){l&&m(t),te(e,l)}}}function ne(n,t,i){let{items:s}=t;return n.$$set=e=>{"items"in e&&i(0,s=e.items)},[s]}class oe extends S{constructor(t){super(),z(this,t,ne,ae,G,{items:0})}}function ce(n){let t,i,s;return i=new oe({props:{items:n[0]}}),{c(){t=v("div"),U(i.$$.fragment),this.h()},l(e){t=p(e,"DIV",{class:!0});var o=g(t);W(i.$$.fragment,o),o.forEach(m),this.h()},h(){f(t,"class","page")},m(e,o){V(e,t,o),X(i,t,null),s=!0},p(e,[o]){const l={};o&1&&(l.items=e[0]),i.$set(l)},i(e){s||(y(i.$$.fragment,e),s=!0)},o(e){E(i.$$.fragment,e),s=!1},d(e){e&&m(t),Y(i)}}}function fe(n,t,i){let s=[];return D.subscribe(e=>{i(0,s=e.library)}),[s]}class ve extends S{constructor(t){super(),z(this,t,fe,ce,G,{})}}export{ve as component};
