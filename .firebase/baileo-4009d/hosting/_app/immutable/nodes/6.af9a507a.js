import{S as ve,i as pe,s as ge,d as O,U as je,v as we,p,y as F,c as L,q as g,r as S,z as X,f as U,l as _,w as qe,x as w,u as f,g as Y,J as d,A as he,L as N,V as ft,K as ne,I as Q,R as dt,e as Pe,T as Et,k as $,h as te,C as ye,D as ke,E as Se,B as st,j as it,F as Ee,M as Tt}from"../chunks/index.435cddde.js";import{m as H,b as mt,c as Ve,s as k,h as lt}from"../chunks/main.85b31e1d.js";const Z="src/lib/modules/TV-Panel.svelte";function ct(o,e,n){const c=o.slice();return c[6]=e[n],c[10]=n,c}function ht(o){let e,n,c;const m={c:function(){e=p("button"),n=p("img"),this.h()},l:function(s){e=g(s,"BUTTON",{class:!0});var i=S(e);n=g(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(_),this.h()},h:function(){Q(n.src,c="icons/left.svg")||f(n,"src",c),f(n,"alt","Icon"),f(n,"class","s-vHaLhKH0CMC1"),w(n,Z,52,42,1546),f(e,"class","left inactive s-vHaLhKH0CMC1"),w(e,Z,52,12,1516)},m:function(s,i){Y(s,e,i),d(e,n)},p:N,d:function(s){s&&_(e)}};return O("SvelteRegisterBlock",{block:m,id:ht.name,type:"else",source:"(52:8) {:else}",ctx:o}),m}function _t(o){let e,n,c,m,t;const s={c:function(){e=p("button"),n=p("img"),this.h()},l:function(a){e=g(a,"BUTTON",{class:!0});var l=S(e);n=g(l,"IMG",{src:!0,alt:!0,class:!0}),l.forEach(_),this.h()},h:function(){Q(n.src,c="icons/left.svg")||f(n,"src",c),f(n,"alt","Icon"),f(n,"class","s-vHaLhKH0CMC1"),w(n,Z,50,59,1441),f(e,"class","left s-vHaLhKH0CMC1"),w(e,Z,50,12,1394)},m:function(a,l){Y(a,e,l),d(e,n),m||(t=ne(e,"click",o[4],!1,!1,!1,!1),m=!0)},p:N,d:function(a){a&&_(e),m=!1,t()}};return O("SvelteRegisterBlock",{block:s,id:_t.name,type:"if",source:"(50:8) {#if media.season !== 1}",ctx:o}),s}function vt(o){let e,n,c;const m={c:function(){e=p("button"),n=p("img"),this.h()},l:function(s){e=g(s,"BUTTON",{class:!0});var i=S(e);n=g(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(_),this.h()},h:function(){Q(n.src,c="icons/right.svg")||f(n,"src",c),f(n,"alt","Icon"),f(n,"class","s-vHaLhKH0CMC1"),w(n,Z,58,43,1812),f(e,"class","right inactive s-vHaLhKH0CMC1"),w(e,Z,58,12,1781)},m:function(s,i){Y(s,e,i),d(e,n)},p:N,d:function(s){s&&_(e)}};return O("SvelteRegisterBlock",{block:m,id:vt.name,type:"else",source:"(58:8) {:else}",ctx:o}),m}function pt(o){let e,n,c,m,t;const s={c:function(){e=p("button"),n=p("img"),this.h()},l:function(a){e=g(a,"BUTTON",{class:!0});var l=S(e);n=g(l,"IMG",{src:!0,alt:!0,class:!0}),l.forEach(_),this.h()},h:function(){Q(n.src,c="icons/right.svg")||f(n,"src",c),f(n,"alt","Icon"),f(n,"class","s-vHaLhKH0CMC1"),w(n,Z,56,56,1705),f(e,"class","right s-vHaLhKH0CMC1"),w(e,Z,56,12,1661)},m:function(a,l){Y(a,e,l),d(e,n),m||(t=ne(e,"click",o[5],!1,!1,!1,!1),m=!0)},p:N,d:function(a){a&&_(e),m=!1,t()}};return O("SvelteRegisterBlock",{block:s,id:pt.name,type:"if",source:"(56:8) {#if media.season !== maxSeason}",ctx:o}),s}function ze(o){let e,n,c=Ve(o[6])+"",m,t,s,i,a=o[10]+1+"",l,b,u,r,h;function v(){return o[7](o[10])}const y={c:function(){e=p("button"),n=p("div"),m=F(c),t=L(),s=p("div"),i=F("E"),l=F(a),b=L(),this.h()},l:function(E){e=g(E,"BUTTON",{class:!0});var I=S(e);n=g(I,"DIV",{class:!0});var P=S(n);m=X(P,c),P.forEach(_),t=U(I),s=g(I,"DIV",{class:!0});var B=S(s);i=X(B,"E"),l=X(B,a),B.forEach(_),b=U(I),I.forEach(_),this.h()},h:function(){f(n,"class","title s-vHaLhKH0CMC1"),w(n,Z,66,12,2100),f(s,"class","count s-vHaLhKH0CMC1"),w(s,Z,67,12,2169),f(e,"class",u="item "+(o[10]+1==o[1].episode?"active":"")+" s-vHaLhKH0CMC1"),w(e,Z,65,8,1989)},m:function(E,I){Y(E,e,I),d(e,n),d(n,m),d(e,t),d(e,s),d(s,i),d(s,l),d(e,b),r||(h=ne(e,"click",v,!1,!1,!1,!1),r=!0)},p:function(E,I){o=E,I&3&&c!==(c=Ve(o[6])+"")&&he(m,c),I&2&&u!==(u="item "+(o[10]+1==o[1].episode?"active":"")+" s-vHaLhKH0CMC1")&&f(e,"class",u)},d:function(E){E&&_(e),r=!1,h()}};return O("SvelteRegisterBlock",{block:y,id:ze.name,type:"each",source:"(65:4) {#each mediaDB[title]['s' + media.season] as episode, e}",ctx:o}),y}function Ye(o){let e,n,c,m=o[1].season+"",t,s,i,a,l,b,u,r,h,v;function y(j,T){return j[1].season!==1?_t:ht}let G=y(o),E=G(o);function I(j,T){return j[1].season!==j[2]?pt:vt}let P=I(o),B=P(o),K=H[o[0]]["s"+o[1].season];je(K);let C=[];for(let j=0;j<K.length;j+=1)C[j]=ze(ct(o,K,j));const A={c:function(){e=p("div"),n=p("div"),c=F("Season "),t=F(m),s=L(),i=p("span"),a=F("of "),l=F(o[2]),b=L(),u=p("div"),E.c(),r=L(),B.c(),h=L(),v=p("div");for(let T=0;T<C.length;T+=1)C[T].c();this.h()},l:function(T){e=g(T,"DIV",{class:!0});var W=S(e);n=g(W,"DIV",{class:!0});var V=S(n);c=X(V,"Season "),t=X(V,m),s=U(V),i=g(V,"SPAN",{style:!0});var ee=S(i);a=X(ee,"of "),l=X(ee,o[2]),ee.forEach(_),V.forEach(_),b=U(W),u=g(W,"DIV",{class:!0});var J=S(u);E.l(J),r=U(J),B.l(J),J.forEach(_),W.forEach(_),h=U(T),v=g(T,"DIV",{class:!0});var x=S(v);for(let _e=0;_e<C.length;_e+=1)C[_e].l(x);x.forEach(_),this.h()},h:function(){qe(i,"font-size","10pt"),qe(i,"color","gray"),w(i,Z,46,45,1247),f(n,"class","title s-vHaLhKH0CMC1"),w(n,Z,46,4,1206),f(u,"class","navigation s-vHaLhKH0CMC1"),w(u,Z,48,4,1324),f(e,"class","top-bar s-vHaLhKH0CMC1"),w(e,Z,45,0,1180),f(v,"class","episode-list s-vHaLhKH0CMC1"),w(v,Z,63,0,1893)},m:function(T,W){Y(T,e,W),d(e,n),d(n,c),d(n,t),d(n,s),d(n,i),d(i,a),d(i,l),d(e,b),d(e,u),E.m(u,null),d(u,r),B.m(u,null),Y(T,h,W),Y(T,v,W);for(let V=0;V<C.length;V+=1)C[V]&&C[V].m(v,null)},p:function(T,[W]){if(W&2&&m!==(m=T[1].season+"")&&he(t,m),G===(G=y(T))&&E?E.p(T,W):(E.d(1),E=G(T),E&&(E.c(),E.m(u,r))),P===(P=I(T))&&B?B.p(T,W):(B.d(1),B=P(T),B&&(B.c(),B.m(u,null))),W&11){K=H[T[0]]["s"+T[1].season],je(K);let V;for(V=0;V<K.length;V+=1){const ee=ct(T,K,V);C[V]?C[V].p(ee,W):(C[V]=ze(ee),C[V].c(),C[V].m(v,null))}for(;V<C.length;V+=1)C[V].d(1);C.length=K.length}},i:N,o:N,d:function(T){T&&_(e),E.d(),B.d(),T&&_(h),T&&_(v),ft(C,T)}};return O("SvelteRegisterBlock",{block:A,id:Ye.name,type:"component",source:"",ctx:o}),A}function Vt(o,e,n){let{$$slots:c={},$$scope:m}=e;we("TV_Panel",c,[]);let{title:t,media:s}=e,i=s.season,a=s.episode,l=H[s.title].sTotal;function b(y){k.set(`${t} progress`,"0"),k.set(`${t} season`,s.season),k.set(`${t} episode`,y),k.confirm(`${s.title} progress`,"0",()=>{window.location.reload()})}function u(){k.set(`${t} progress`,"0"),k.set(`${t} season`,Number(s.season)-1),k.set(`${t} episode`,"1"),k.confirm(`${s.title} progress`,"0",()=>{window.location.reload()})}function r(){k.set(`${t} progress`,"0"),k.set(`${t} season`,Number(s.season)+1),k.set(`${t} episode`,"1"),k.confirm(`${s.title} progress`,"0",()=>{window.location.reload()})}o.$$.on_mount.push(function(){t===void 0&&!("title"in e||o.$$.bound[o.$$.props.title])&&console.warn("<TV_Panel> was created without expected prop 'title'"),s===void 0&&!("media"in e||o.$$.bound[o.$$.props.media])&&console.warn("<TV_Panel> was created without expected prop 'media'")});const h=["title","media"];Object.keys(e).forEach(y=>{!~h.indexOf(y)&&y.slice(0,2)!=="$$"&&y!=="slot"&&console.warn(`<TV_Panel> was created with unknown prop '${y}'`)});const v=y=>b(y+1);return o.$$set=y=>{"title"in y&&n(0,t=y.title),"media"in y&&n(1,s=y.media)},o.$capture_state=()=>({title:t,media:s,mediaDB:H,media_controls:mt,serverTypeConversion:Ve,storage:k,season:i,episode:a,maxSeason:l,openEpisode:b,previousSeason:u,nextSeason:r}),o.$inject_state=y=>{"title"in y&&n(0,t=y.title),"media"in y&&n(1,s=y.media),"season"in y&&(i=y.season),"episode"in y&&n(6,a=y.episode),"maxSeason"in y&&n(2,l=y.maxSeason)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[t,s,l,b,u,r,a,v]}class gt extends ve{constructor(e){super(e),pe(this,e,Vt,Ye,ge,{title:0,media:1}),O("SvelteRegisterComponent",{component:this,tagName:"TV_Panel",options:e,id:Ye.name})}get title(){throw new Error("<TV_Panel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<TV_Panel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get media(){throw new Error("<TV_Panel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set media(e){throw new Error("<TV_Panel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Object:Bt}=dt,me="src/lib/modules/More-to-Watch.svelte";function at(o,e,n){const c=o.slice();return c[0]=e[n],c}function Fe(o){let e,n,c,m,t,s,i=o[0]+"",a,l,b,u=o[3](o[0])+"",r,h,v,y;function G(){return o[4](o[0])}const E={c:function(){e=p("button"),n=p("img"),m=L(),t=p("div"),s=p("div"),a=F(i),l=L(),b=p("div"),r=F(u),h=L(),this.h()},l:function(P){e=g(P,"BUTTON",{class:!0});var B=S(e);n=g(B,"IMG",{src:!0,alt:!0,class:!0}),m=U(B),t=g(B,"DIV",{class:!0});var K=S(t);s=g(K,"DIV",{class:!0});var C=S(s);a=X(C,i),C.forEach(_),l=U(K),b=g(K,"DIV",{class:!0});var A=S(b);r=X(A,u),A.forEach(_),K.forEach(_),h=U(B),B.forEach(_),this.h()},h:function(){Q(n.src,c="thumbnails/"+o[0]+".png")||f(n,"src",c),f(n,"alt","Media Thumbnail"),f(n,"class","s-m2LZ31Nv1YxL"),w(n,me,53,12,1472),f(s,"class","title s-m2LZ31Nv1YxL"),w(s,me,55,16,1576),f(b,"class","caption s-m2LZ31Nv1YxL"),w(b,me,56,16,1625),f(t,"class","info"),w(t,me,54,12,1541),f(e,"class","media-item s-m2LZ31Nv1YxL"),w(e,me,52,8,1387)},m:function(P,B){Y(P,e,B),d(e,n),d(e,m),d(e,t),d(t,s),d(s,a),d(t,l),d(t,b),d(b,r),d(e,h),v||(y=ne(e,"click",G,!1,!1,!1,!1),v=!0)},p:function(P,B){o=P,B&2&&!Q(n.src,c="thumbnails/"+o[0]+".png")&&f(n,"src",c),B&2&&i!==(i=o[0]+"")&&he(a,i),B&2&&u!==(u=o[3](o[0])+"")&&he(r,u)},d:function(P){P&&_(e),v=!1,y()}};return O("SvelteRegisterBlock",{block:E,id:Fe.name,type:"each",source:"(52:4) {#each concentratePool as title}",ctx:o}),E}function Xe(o){let e,n,c=o[2].charAt(0).toUpperCase()+o[2].slice(1)+"",m,t,s,i,a=o[1];je(a);let l=[];for(let u=0;u<a.length;u+=1)l[u]=Fe(at(o,a,u));const b={c:function(){e=p("div"),n=F("More "),m=F(c),t=F("..."),s=L(),i=p("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l:function(r){e=g(r,"DIV",{class:!0});var h=S(e);n=X(h,"More "),m=X(h,c),t=X(h,"..."),h.forEach(_),s=U(r),i=g(r,"DIV",{class:!0});var v=S(i);for(let y=0;y<l.length;y+=1)l[y].l(v);v.forEach(_),this.h()},h:function(){f(e,"class","module-title s-m2LZ31Nv1YxL"),w(e,me,49,0,1228),f(i,"class","list s-m2LZ31Nv1YxL"),w(i,me,50,0,1323)},m:function(r,h){Y(r,e,h),d(e,n),d(e,m),d(e,t),Y(r,s,h),Y(r,i,h);for(let v=0;v<l.length;v+=1)l[v]&&l[v].m(i,null)},p:function(r,[h]){if(h&10){a=r[1],je(a);let v;for(v=0;v<a.length;v+=1){const y=at(r,a,v);l[v]?l[v].p(y,h):(l[v]=Fe(y),l[v].c(),l[v].m(i,null))}for(;v<l.length;v+=1)l[v].d(1);l.length=a.length}},i:N,o:N,d:function(r){r&&_(e),r&&_(s),r&&_(i),ft(l,r)}};return O("SvelteRegisterBlock",{block:b,id:Xe.name,type:"component",source:"",ctx:o}),b}function It(o,e,n){let{$$slots:c={},$$scope:m}=e;we("More_to_Watch",c,[]);let{title:t}=e,s=H[t].cat,i=[],a=[];for(let r=0;r<Object.keys(H).length;r++)H[Object.keys(H)[r]].cat==s&&i.push(Object.keys(H)[r]);if(i.length<3)a=i;else for(let r=0;r<i.length-1;r++){let h=i[Math.floor(Math.random()*i.length)];if(a.includes(h)){r--;continue}else if(h==t){r--;continue}a.push(h)}function l(r){if(H[r].type=="TV Show"){let h=H[r].sTotal;return`TV Show - ${h} Season${h>1?"s":""}`}else return"Movie"}o.$$.on_mount.push(function(){t===void 0&&!("title"in e||o.$$.bound[o.$$.props.title])&&console.warn("<More_to_Watch> was created without expected prop 'title'")});const b=["title"];Bt.keys(e).forEach(r=>{!~b.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<More_to_Watch> was created with unknown prop '${r}'`)});const u=r=>lt(r);return o.$$set=r=>{"title"in r&&n(0,t=r.title)},o.$capture_state=()=>({title:t,mediaDB:H,storage:k,handleMediaItemClick:lt,category:s,pool:i,concentratePool:a,generateCaption:l}),o.$inject_state=r=>{"title"in r&&n(0,t=r.title),"category"in r&&n(2,s=r.category),"pool"in r&&(i=r.pool),"concentratePool"in r&&n(1,a=r.concentratePool)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[t,a,s,l,u]}class wt extends ve{constructor(e){super(e),pe(this,e,It,Xe,ge,{title:0}),O("SvelteRegisterComponent",{component:this,tagName:"More_to_Watch",options:e,id:Xe.name})}get title(){throw new Error("<More_to_Watch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<More_to_Watch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const rt="src/lib/components/Bold-Button.svelte";function We(o){let e,n,c,m,t;const s={c:function(){e=p("div"),n=p("img"),m=L(),t=F(o[0]),this.h()},l:function(a){e=g(a,"DIV",{class:!0});var l=S(e);n=g(l,"IMG",{src:!0,alt:!0,class:!0}),m=U(l),t=X(l,o[0]),l.forEach(_),this.h()},h:function(){Q(n.src,c=o[1])||f(n,"src",c),f(n,"alt","Icon"),f(n,"class","s-be45Op0xSNWX"),w(n,rt,9,4,120),f(e,"class","button s-be45Op0xSNWX"),w(e,rt,8,0,95)},m:function(a,l){Y(a,e,l),d(e,n),d(e,m),d(e,t)},p:function(a,[l]){l&1&&he(t,a[0])},i:N,o:N,d:function(a){a&&_(e)}};return O("SvelteRegisterBlock",{block:s,id:We.name,type:"component",source:"",ctx:o}),s}function Mt(o,e,n){let{$$slots:c={},$$scope:m}=e;we("Bold_Button",c,[]);let{icon:t,text:s}=e,i=`icons/${t}.svg`;o.$$.on_mount.push(function(){t===void 0&&!("icon"in e||o.$$.bound[o.$$.props.icon])&&console.warn("<Bold_Button> was created without expected prop 'icon'"),s===void 0&&!("text"in e||o.$$.bound[o.$$.props.text])&&console.warn("<Bold_Button> was created without expected prop 'text'")});const a=["icon","text"];return Object.keys(e).forEach(l=>{!~a.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Bold_Button> was created with unknown prop '${l}'`)}),o.$$set=l=>{"icon"in l&&n(2,t=l.icon),"text"in l&&n(0,s=l.text)},o.$capture_state=()=>({icon:t,text:s,source:i}),o.$inject_state=l=>{"icon"in l&&n(2,t=l.icon),"text"in l&&n(0,s=l.text),"source"in l&&n(1,i=l.source)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[s,i,t]}class bt extends ve{constructor(e){super(e),pe(this,e,Mt,We,ge,{icon:2,text:0}),O("SvelteRegisterComponent",{component:this,tagName:"Bold_Button",options:e,id:We.name})}get icon(){throw new Error("<Bold_Button>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set icon(e){throw new Error("<Bold_Button>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get text(){throw new Error("<Bold_Button>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set text(e){throw new Error("<Bold_Button>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ut="src/lib/components/Toggle.svelte";function Ke(o){let e,n,c;const m={c:function(){e=p("div"),n=p("div"),this.h()},l:function(s){e=g(s,"DIV",{class:!0});var i=S(e);n=g(i,"DIV",{class:!0}),S(n).forEach(_),i.forEach(_),this.h()},h:function(){f(n,"class","coin s-IxVFScgfBrOo"),w(n,ut,7,4,113),f(e,"class",c="toggle "+(o[0]=="true"?"active":"")+" s-IxVFScgfBrOo"),w(e,ut,6,0,53)},m:function(s,i){Y(s,e,i),d(e,n)},p:function(s,[i]){i&1&&c!==(c="toggle "+(s[0]=="true"?"active":"")+" s-IxVFScgfBrOo")&&f(e,"class",c)},i:N,o:N,d:function(s){s&&_(e)}};return O("SvelteRegisterBlock",{block:m,id:Ke.name,type:"component",source:"",ctx:o}),m}function Pt(o,e,n){let{$$slots:c={},$$scope:m}=e;we("Toggle",c,[]);let{active:t}=e;o.$$.on_mount.push(function(){t===void 0&&!("active"in e||o.$$.bound[o.$$.props.active])&&console.warn("<Toggle> was created without expected prop 'active'")});const s=["active"];return Object.keys(e).forEach(i=>{!~s.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<Toggle> was created with unknown prop '${i}'`)}),o.$$set=i=>{"active"in i&&n(0,t=i.active)},o.$capture_state=()=>({active:t}),o.$inject_state=i=>{"active"in i&&n(0,t=i.active)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[t]}class Ge extends ve{constructor(e){super(e),pe(this,e,Pt,Ke,ge,{active:0}),O("SvelteRegisterComponent",{component:this,tagName:"Toggle",options:e,id:Ke.name})}get active(){throw new Error("<Toggle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set active(e){throw new Error("<Toggle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ct="src/lib/components/Video-Player.svelte";function Ae(o){let e,n;const c={c:function(){e=p("video"),this.h()},l:function(t){e=g(t,"VIDEO",{src:!0}),S(e).forEach(_),this.h()},h:function(){Q(e.src,n=o[0])||f(e,"src",n),e.autoplay=!0,w(e,Ct,69,0,1880)},m:function(t,s){Y(t,e,s)},p:function(t,[s]){s&1&&!Q(e.src,n=t[0])&&f(e,"src",n)},i:N,o:N,d:function(t){t&&_(e)}};return O("SvelteRegisterBlock",{block:c,id:Ae.name,type:"component",source:"",ctx:o}),c}const Ce=2;function jt(){document.querySelector("video").paused?document.querySelector("video").play():document.querySelector("video").pause()}function Dt(){var o=window.document,e=o.querySelector(".player"),n=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,c=o.exitFullscreen||o.mozCancelFullScreen||o.webkitExitFullscreen||o.msExitFullscreen;!o.fullscreenElement&&!o.mozFullScreenElement&&!o.webkitFullscreenElement&&!o.msFullscreenElement?(n.call(e),document.querySelector(".information").style.opacity="1"):(c.call(o),document.querySelector(".information").style.opacity="0")}function Nt(o,e,n){let{$$slots:c={},$$scope:m}=e;we("Video_Player",c,[]);let{source:t}=e,s=Ce;setInterval(()=>{s<=0?document.querySelector(".overlay").style.cursor="none":s-=.5},500);function i(){s=Ce,document.querySelector(".overlay").style.opacity="1",document.querySelector(".overlay").style.cursor="default"}function a(){s=Ce,document.querySelector(".overlay").style.opacity="0"}let l={};l.title=k.get("watching title"),l.season=k.get(`${l.title} season`),l.episode=k.get(`${l.title} episode`),l.description=`S${l.season}, E${l.episode} - ${H[l.title]["s"+l.season][l.episode-1]}`,l.isFullscreen=!1,o.$$.on_mount.push(function(){t===void 0&&!("source"in e||o.$$.bound[o.$$.props.source])&&console.warn("<Video_Player> was created without expected prop 'source'")});const b=["source"];return Object.keys(e).forEach(u=>{!~b.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<Video_Player> was created with unknown prop '${u}'`)}),o.$$set=u=>{"source"in u&&n(0,t=u.source)},o.$capture_state=()=>({source:t,storage:k,mediaDB:H,restTime:Ce,clock:s,mouseMove:i,mouseOut:a,media:l,togglePlay:jt,toggleFullScreen:Dt}),o.$inject_state=u=>{"source"in u&&n(0,t=u.source),"clock"in u&&(s=u.clock),"media"in u&&(l=u.media)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[t]}class Ot extends ve{constructor(e){super(e),pe(this,e,Nt,Ae,ge,{source:0}),O("SvelteRegisterComponent",{component:this,tagName:"Video_Player",options:e,id:Ae.name})}get source(){throw new Error("<Video_Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set source(e){throw new Error("<Video_Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{document:Te}=dt,z="src/routes/watch/+page.svelte";function yt(o){Te.title=o[0].title;const e={c:N,l:N,m:N,d:N};return O("SvelteRegisterBlock",{block:e,id:yt.name,type:"else",source:"(163:1) {:else}",ctx:o}),e}function kt(o){Te.title=o[0].episodeDisplayTitle;const e={c:N,l:N,m:N,d:N};return O("SvelteRegisterBlock",{block:e,id:kt.name,type:"if",source:"(161:1) {#if media.type == 'TV Show'}",ctx:o}),e}function St(o){let e,n,c,m,t,s,i,a,l=o[0].title+"",b,u,r,h=o[0].description+"",v,y,G,E,I,P,B,K,C,A,j,T,W,V,ee,J,x,_e,De,se,Ne,oe,ie,$e,Oe,He,Be,ae,le,re,Le,xe,R=o[0].type=="TV Show"&&Ze(o);V=new Ge({props:{active:o[1].shuffle},$$inline:!0}),se=new Ge({props:{active:o[1].autoplay},$$inline:!0});let q=o[0].type=="TV Show"&&Je(o);le=new wt({props:{title:o[0].title},$$inline:!0});const et={c:function(){e=p("div"),n=p("div"),c=p("video"),t=L(),s=p("div"),i=p("div"),a=p("div"),b=F(l),u=L(),r=p("div"),v=F(h),y=L(),R&&R.c(),G=L(),E=p("div"),I=p("button"),P=p("img"),K=F(`
				Download`),C=L(),A=p("button"),j=p("img"),W=F(`
				Shuffle
				`),ye(V.$$.fragment),ee=L(),J=p("button"),x=p("img"),De=F(`
				Autoplay
				`),ye(se.$$.fragment),Ne=L(),oe=p("button"),ie=p("img"),Oe=F(`
				Mark as Complete`),He=L(),q&&q.c(),Be=L(),ae=p("div"),ye(le.$$.fragment),this.h()},l:function(M){e=g(M,"DIV",{class:!0});var D=S(e);n=g(D,"DIV",{class:!0});var be=S(n);c=g(be,"VIDEO",{src:!0,class:!0}),S(c).forEach(_),be.forEach(_),t=U(D),s=g(D,"DIV",{class:!0});var fe=S(s);i=g(fe,"DIV",{class:!0});var de=S(i);a=g(de,"DIV",{class:!0});var tt=S(a);b=X(tt,l),tt.forEach(_),u=U(de),r=g(de,"DIV",{class:!0});var ot=S(r);v=X(ot,h),ot.forEach(_),de.forEach(_),y=U(fe),R&&R.l(fe),fe.forEach(_),G=U(D),E=g(D,"DIV",{class:!0});var ce=S(E);I=g(ce,"BUTTON",{class:!0});var Ue=S(I);P=g(Ue,"IMG",{src:!0,alt:!0,class:!0}),K=X(Ue,`
				Download`),Ue.forEach(_),C=U(ce),A=g(ce,"BUTTON",{class:!0});var Ie=S(A);j=g(Ie,"IMG",{src:!0,alt:!0,class:!0}),W=X(Ie,`
				Shuffle
				`),ke(V.$$.fragment,Ie),Ie.forEach(_),ee=U(ce),J=g(ce,"BUTTON",{class:!0});var Me=S(J);x=g(Me,"IMG",{src:!0,alt:!0,class:!0}),De=X(Me,`
				Autoplay
				`),ke(se.$$.fragment,Me),Me.forEach(_),Ne=U(ce),oe=g(ce,"BUTTON",{class:!0});var Re=S(oe);ie=g(Re,"IMG",{src:!0,alt:!0,class:!0}),Oe=X(Re,`
				Mark as Complete`),Re.forEach(_),ce.forEach(_),He=U(D),q&&q.l(D),Be=U(D),ae=g(D,"DIV",{class:!0});var nt=S(ae);ke(le.$$.fragment,nt),nt.forEach(_),D.forEach(_),this.h()},h:function(){Q(c.src,m="https://209.163.185.11/videos/"+o[0].path)||f(c,"src",m),c.controls=!0,c.autoplay=!0,f(c,"class","s-4Xht8e93UYcz"),w(c,z,176,4,5159),f(n,"class","video-wrapper s-4Xht8e93UYcz"),w(n,z,173,2,5018),f(a,"class","title s-4Xht8e93UYcz"),w(a,z,186,4,5483),f(r,"class","description s-4Xht8e93UYcz"),w(r,z,187,4,5526),f(i,"class","info"),w(i,z,185,3,5460),f(s,"class","more-menu s-4Xht8e93UYcz"),w(s,z,183,2,5400),Q(P.src,B="icons/download.svg")||f(P,"src",B),f(P,"alt","Icon"),f(P,"class","s-4Xht8e93UYcz"),w(P,z,203,4,5961),f(I,"class","s-4Xht8e93UYcz"),w(I,z,202,3,5920),Q(j.src,T="icons/shuffle.svg")||f(j,"src",T),f(j,"alt","Icon"),f(j,"class","s-4Xht8e93UYcz"),w(j,z,208,4,6090),f(A,"class","s-4Xht8e93UYcz"),w(A,z,207,3,6033),Q(x.src,_e="icons/infinity.svg")||f(x,"src",_e),f(x,"alt","Icon"),f(x,"class","s-4Xht8e93UYcz"),w(x,z,214,4,6262),f(J,"class","s-4Xht8e93UYcz"),w(J,z,213,3,6204),Q(ie.src,$e="icons/complete.svg")||f(ie,"src",$e),f(ie,"alt","Icon"),f(ie,"class","s-4Xht8e93UYcz"),w(ie,z,220,4,6425),f(oe,"class","s-4Xht8e93UYcz"),w(oe,z,219,3,6379),f(E,"class","action-buttons horizontal-scroll s-4Xht8e93UYcz"),w(E,z,201,2,5870),f(ae,"class","module s-4Xht8e93UYcz"),w(ae,z,235,2,6712),f(e,"class","app s-4Xht8e93UYcz"),w(e,z,170,0,4960)},m:function(M,D){Y(M,e,D),d(e,n),d(n,c),d(e,t),d(e,s),d(s,i),d(i,a),d(a,b),d(i,u),d(i,r),d(r,v),d(s,y),R&&R.m(s,null),d(e,G),d(e,E),d(E,I),d(I,P),d(I,K),d(E,C),d(E,A),d(A,j),d(A,W),Se(V,A,null),d(E,ee),d(E,J),d(J,x),d(J,De),Se(se,J,null),d(E,Ne),d(E,oe),d(oe,ie),d(oe,Oe),d(e,He),q&&q.m(e,null),d(e,Be),d(e,ae),Se(le,ae,null),re=!0,Le||(xe=[ne(I,"click",o[3].download,!1,!1,!1,!1),ne(A,"click",o[4],!1,!1,!1,!1),ne(J,"click",o[5],!1,!1,!1,!1),ne(oe,"click",o[3].markAsWatched,!1,!1,!1,!1)],Le=!0)},p:function(M,D){(!re||D&1&&!Q(c.src,m="https://209.163.185.11/videos/"+M[0].path))&&f(c,"src",m),(!re||D&1)&&l!==(l=M[0].title+"")&&he(b,l),(!re||D&1)&&h!==(h=M[0].description+"")&&he(v,h),M[0].type=="TV Show"?R?(R.p(M,D),D&1&&$(R,1)):(R=Ze(M),R.c(),$(R,1),R.m(s,null)):R&&(st(),te(R,1,1,()=>{R=null}),it());const be={};D&2&&(be.active=M[1].shuffle),V.$set(be);const fe={};D&2&&(fe.active=M[1].autoplay),se.$set(fe),M[0].type=="TV Show"?q?(q.p(M,D),D&1&&$(q,1)):(q=Je(M),q.c(),$(q,1),q.m(e,Be)):q&&(st(),te(q,1,1,()=>{q=null}),it());const de={};D&1&&(de.title=M[0].title),le.$set(de)},i:function(M){re||($(R),$(V.$$.fragment,M),$(se.$$.fragment,M),$(q),$(le.$$.fragment,M),re=!0)},o:function(M){te(R),te(V.$$.fragment,M),te(se.$$.fragment,M),te(q),te(le.$$.fragment,M),re=!1},d:function(M){M&&_(e),R&&R.d(),Ee(V),Ee(se),q&&q.d(),Ee(le),Le=!1,Tt(xe)}};return O("SvelteRegisterBlock",{block:et,id:St.name,type:"if",source:"(170:0) {#if typeof window !== 'undefined'}",ctx:o}),et}function Ze(o){let e,n,c,m,t,s;c=new bt({props:{icon:"next",text:"Next Episode"},$$inline:!0});const i={c:function(){e=p("div"),n=p("button"),ye(c.$$.fragment),this.h()},l:function(l){e=g(l,"DIV",{style:!0});var b=S(e);n=g(b,"BUTTON",{});var u=S(n);ke(c.$$.fragment,u),u.forEach(_),b.forEach(_),this.h()},h:function(){w(n,z,193,5,5696),qe(e,"text-align","right"),w(e,z,192,4,5658)},m:function(l,b){Y(l,e,b),d(e,n),Se(c,n,null),m=!0,t||(s=ne(n,"click",o[3].continueWatching,!1,!1,!1,!1),t=!0)},p:N,i:function(l){m||($(c.$$.fragment,l),m=!0)},o:function(l){te(c.$$.fragment,l),m=!1},d:function(l){l&&_(e),Ee(c),t=!1,s()}};return O("SvelteRegisterBlock",{block:i,id:Ze.name,type:"if",source:"(191:3) {#if media.type == 'TV Show'}",ctx:o}),i}function Je(o){let e,n,c;n=new gt({props:{title:o[0].title,media:o[0]},$$inline:!0});const m={c:function(){e=p("div"),ye(n.$$.fragment),this.h()},l:function(s){e=g(s,"DIV",{class:!0});var i=S(e);ke(n.$$.fragment,i),i.forEach(_),this.h()},h:function(){f(e,"class","module tv-episode-module s-4Xht8e93UYcz"),w(e,z,230,3,6602)},m:function(s,i){Y(s,e,i),Se(n,e,null),c=!0},p:function(s,i){const a={};i&1&&(a.title=s[0].title),i&1&&(a.media=s[0]),n.$set(a)},i:function(s){c||($(n.$$.fragment,s),c=!0)},o:function(s){te(n.$$.fragment,s),c=!1},d:function(s){s&&_(e),Ee(n)}};return O("SvelteRegisterBlock",{block:m,id:Je.name,type:"if",source:"(230:2) {#if media.type == 'TV Show'}",ctx:o}),m}function Qe(o){let e,n,c,m;function t(b,u){return b[0].type=="TV Show"?kt:yt}let s=t(o),i=s(o),a=typeof window<"u"&&St(o);const l={c:function(){i.c(),e=Pe(),n=L(),a&&a.c(),c=Pe()},l:function(u){const r=Et("svelte-9f9ela",Te.head);i.l(r),e=Pe(),r.forEach(_),n=U(u),a&&a.l(u),c=Pe()},m:function(u,r){i.m(Te.head,null),d(Te.head,e),Y(u,n,r),a&&a.m(u,r),Y(u,c,r),m=!0},p:function(u,[r]){s!==(s=t(u))&&(i.d(1),i=s(u),i&&(i.c(),i.m(e.parentNode,e))),typeof window<"u"&&a.p(u,r)},i:function(u){m||($(a),m=!0)},o:function(u){te(a),m=!1},d:function(u){i.d(u),_(e),u&&_(n),a&&a.d(u),u&&_(c)}};return O("SvelteRegisterBlock",{block:l,id:Qe.name,type:"component",source:"",ctx:o}),l}function Ht(o,e,n){let{$$slots:c={},$$scope:m}=e;we("Page",c,[]);let t={};if(typeof window<"u"){t.title=k.get("watching title"),t.type=H[t.title].type,k.exists(`${t.title} progress`)?(t.progress=Number(k.get(`${t.title} progress`)),t.type=="TV Show"&&(t.season=Number(k.get(`${t.title} season`)),t.episode=Number(k.get(`${t.title} episode`)))):(t.progress=0,k.set(`${t.title} progress`,0),t.type=="TV Show"&&(t.season=1,k.set(`${t.title} season`,1),t.episode=1,k.set(`${t.title} episode`,1)));let h=setInterval(()=>{document.querySelector("video").readyState==4&&(document.querySelector("video").currentTime=t.progress*document.querySelector("video").duration,clearInterval(h))},250);t.type=="TV Show"?(t.episodeTitle=H[t.title]["s"+t.season][t.episode-1],t.episodeDisplayTitle=Ve(H[t.title]["s"+t.season][t.episode-1]),t.path=`${t.title}/Season ${t.season}/${t.episodeTitle}.mp4`,t.description=`S${t.season}, E${t.episode} - ${t.episodeDisplayTitle}`):(t.path=`${t.title}.mp4`,t.description="Movie"),setInterval(()=>{if(document.querySelector("video").readyState==4){let v=document.querySelector("video").currentTime,y=document.querySelector("video").duration;k.set(`${t.title} progress`,v/y),v>y-k.get("autoplay buffer")&&k.get("autoplay")=="true"&&continueWatching()}},750)}let s={};function i(h){n(1,s[h]=k.get(h),s)}i("shuffle"),i("autoplay"),i("autoplay buffer");function a(h){k.get(h)=="false"?(k.set(h,"true"),n(1,s[h]="true",s)):(k.set(h,"false"),n(1,s[h]="false",s))}const l={continueWatching(){t.type=="TV Show"?s.shuffle=="true"?l.nextShuffleEpisode():l.nextEpisode():window.open("/","_self")},nextEpisode(){let h=H[t.title]["s"+t.season].length,v=H[t.title].sTotal;k.set(`${t.title} progress`,"0"),t.episode==h?t.season==v?l.markAsWatched():(k.set(`${t.title} season`,Number(t.season)+1),k.set(`${t.title} episode`,"1"),k.confirm(`${t.title} progress`,"0",()=>{window.location.reload()}),window.location.reload()):(k.set(`${t.title} episode`,Number(t.episode)+1),k.confirm(`${t.title} progress`,"0",()=>{window.location.reload()}))},nextShuffleEpisode(){let h=Math.floor(Math.random()*H[t.title].sTotal)+1,v=Math.floor(Math.random()*H[t.title]["s"+h].length)+1;k.set(`${t.title} season`,h),k.set(`${t.title} episode`,v),k.set(`${t.title} progress`,"0"),k.confirm(`${t.title} progress`,"0",()=>{window.location.reload()})},download(){var h=document.createElement("a");h.download=t.description,h.href=`https://209.163.185.11/videos/${t.path}`,h.click()},markAsWatched(){k.delete(t.title+" progress"),k.delete(t.title+" season"),k.delete(t.title+" episode"),window.open("/","_self")}},b=[];Object.keys(e).forEach(h=>{!~b.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Page> was created with unknown prop '${h}'`)});const u=()=>a("shuffle"),r=()=>a("autoplay");return o.$capture_state=()=>({mediaDB:H,media_controls:mt,serverTypeConversion:Ve,storage:k,TvModule:gt,MoreToWatchModule:wt,BoldButton:bt,Toggle:Ge,VideoPlayer:Ot,media:t,statePref:s,createStatePref:i,toggleStatePref:a,actions:l}),o.$inject_state=h=>{"media"in h&&n(0,t=h.media),"statePref"in h&&n(1,s=h.statePref)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[t,s,a,l,u,r]}class Rt extends ve{constructor(e){super(e),pe(this,e,Ht,Qe,ge,{}),O("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Qe.name})}}export{Rt as component};
